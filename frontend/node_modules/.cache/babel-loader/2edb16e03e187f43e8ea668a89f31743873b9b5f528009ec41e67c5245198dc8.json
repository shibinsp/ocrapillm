{"ast":null,"code":"var _jsxFileName = \"D:\\\\trae\\\\ocrapillm\\\\frontend\\\\src\\\\components\\\\ChatInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useApp } from '../context/AppContext';\nimport { apiService } from '../services/api';\nimport { FiSend, FiTrash2, FiUser, FiMessageCircle, FiCopy, FiRefreshCw } from 'react-icons/fi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatInterface = ({\n  isPanel = false\n}) => {\n  _s();\n  const {\n    state,\n    actions\n  } = useApp();\n  const {\n    currentDocument,\n    chatMessages,\n    isChatLoading\n  } = state;\n  const [message, setMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [chatMessages]);\n\n  // Load general chat history on component mount\n  useEffect(() => {\n    loadChatHistory();\n  }, []);\n  const loadChatHistory = async () => {\n    try {\n      // For now, start with empty chat for global document queries\n      actions.setChatMessages([]);\n    } catch (error) {\n      console.error('Failed to load chat history:', error);\n    }\n  };\n  const handleSendMessage = async () => {\n    if (!message.trim() || isChatLoading) return;\n    const userMessage = {\n      id: Date.now(),\n      type: 'user',\n      content: message.trim(),\n      timestamp: new Date().toISOString()\n    };\n\n    // Add user message\n    actions.addChatMessage(userMessage);\n    setMessage('');\n    actions.setChatLoading(true);\n    setIsTyping(true);\n    try {\n      // Call the global chat API that searches across all documents\n      const response = await apiService.chatWithAllDocuments(userMessage.content, chatMessages);\n      const aiResponse = {\n        id: Date.now() + 1,\n        type: 'ai',\n        content: response.response || generateMockResponse(userMessage.content),\n        timestamp: new Date().toISOString()\n      };\n      actions.addChatMessage(aiResponse);\n    } catch (error) {\n      console.error('Chat error:', error);\n      const errorMessage = {\n        id: Date.now() + 1,\n        type: 'ai',\n        content: 'Sorry, I encountered an error while processing your question. Please try again.',\n        timestamp: new Date().toISOString(),\n        isError: true\n      };\n      actions.addChatMessage(errorMessage);\n      actions.showError('Failed to get AI response');\n    } finally {\n      actions.setChatLoading(false);\n      setIsTyping(false);\n    }\n  };\n  const generateMockResponse = userMessage => {\n    const responses = {\n      'summary': 'I can provide summaries of all your uploaded documents. Your document library contains various types of files including lease agreements, contracts, and other important documents. Each has been processed and is available for analysis.',\n      'documents': 'You have several documents in your library that I can help you analyze. I can search across all of them to find specific information, compare content, or provide summaries of individual documents.',\n      'search': 'I can search across all your uploaded documents to find specific information. Just tell me what you\\'re looking for and I\\'ll scan through all your files to find relevant content.',\n      'compare': 'I can compare information across multiple documents in your library. This is useful for finding differences in terms, dates, amounts, or other details between similar documents.',\n      'default': 'I can help you with questions about all your uploaded documents. I can search across your entire document library, provide summaries, compare information between documents, or help you find specific details. What would you like to know?'\n    };\n    const lowerMessage = userMessage.toLowerCase();\n    if (lowerMessage.includes('summary') || lowerMessage.includes('summarize')) {\n      return responses.summary;\n    } else if (lowerMessage.includes('key') || lowerMessage.includes('main') || lowerMessage.includes('important')) {\n      return responses['key points'];\n    } else if (lowerMessage.includes('rent') || lowerMessage.includes('payment') || lowerMessage.includes('money')) {\n      return responses.rent;\n    } else {\n      return responses.default;\n    }\n  };\n  const handleKeyPress = event => {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const copyMessage = async content => {\n    try {\n      await navigator.clipboard.writeText(content);\n      actions.showSuccess('Message copied to clipboard');\n    } catch (error) {\n      actions.showError('Failed to copy message');\n    }\n  };\n  const clearChat = () => {\n    actions.clearChat();\n    actions.showInfo('Chat history cleared');\n  };\n  const formatTimestamp = timestamp => {\n    const date = new Date(timestamp);\n    return date.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // Chat is now always available - can chat with all documents or specific document\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `h-full flex flex-col ${isPanel ? 'border-l border-secondary-200 dark:border-secondary-700' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-b border-secondary-200 dark:border-secondary-700 bg-white dark:bg-secondary-800\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold text-secondary-900 dark:text-white flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(FiMessageCircle, {\n              className: \"w-5 h-5 mr-2 text-primary-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), \"AI Assistant\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-secondary-600 dark:text-secondary-400\",\n            children: \"Ask questions about all your documents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearChat,\n            className: \"p-2 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors\",\n            title: \"Clear chat history\",\n            children: /*#__PURE__*/_jsxDEV(FiTrash2, {\n              className: \"w-4 h-4 text-secondary-600 dark:text-secondary-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto p-4 space-y-4 bg-secondary-50 dark:bg-secondary-900\",\n      children: [chatMessages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-12 h-12 bg-primary-100 dark:bg-primary-900/20 rounded-full flex items-center justify-center mx-auto mb-4\",\n          children: /*#__PURE__*/_jsxDEV(FiMessageCircle, {\n            className: \"w-6 h-6 text-primary-600 dark:text-primary-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-secondary-900 dark:text-white mb-2\",\n          children: \"Start a conversation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-secondary-600 dark:text-secondary-400 text-sm mb-4\",\n          children: \"Ask me anything about your documents. I can help with:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid gap-2 max-w-sm mx-auto\",\n          children: ['Show me all my documents', 'Search across all files', 'Compare documents', 'Summarize my library'].map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setMessage(suggestion),\n            className: \"text-left p-3 bg-white dark:bg-secondary-800 rounded-lg border border-secondary-200 dark:border-secondary-700 hover:border-primary-300 dark:hover:border-primary-600 transition-colors text-sm\",\n            children: suggestion\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this) : chatMessages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex ${msg.type === 'user' ? 'justify-end' : 'justify-start'}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex items-start space-x-3 max-w-[80%] ${msg.type === 'user' ? 'flex-row-reverse space-x-reverse' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${msg.type === 'user' ? 'bg-primary-600' : msg.isError ? 'bg-red-100 dark:bg-red-900/20' : 'bg-secondary-200 dark:bg-secondary-700'}`,\n            children: msg.type === 'user' ? /*#__PURE__*/_jsxDEV(FiUser, {\n              className: \"w-4 h-4 text-white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(FiMessageCircle, {\n              className: `w-4 h-4 ${msg.isError ? 'text-red-600 dark:text-red-400' : 'text-secondary-600 dark:text-secondary-400'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `group relative ${msg.type === 'user' ? 'bg-primary-600 text-white' : msg.isError ? 'bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800' : 'bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700'} rounded-lg px-4 py-3 shadow-sm`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `text-sm leading-relaxed ${msg.type === 'user' ? 'text-white' : msg.isError ? 'text-red-900 dark:text-red-100' : 'text-secondary-900 dark:text-white'}`,\n              children: msg.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center justify-between mt-2 text-xs ${msg.type === 'user' ? 'text-primary-100' : 'text-secondary-500 dark:text-secondary-400'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: formatTimestamp(msg.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => copyMessage(msg.content),\n                className: `opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded hover:bg-black/10 ${msg.type === 'user' ? 'text-white' : 'text-secondary-600 dark:text-secondary-400'}`,\n                title: \"Copy message\",\n                children: /*#__PURE__*/_jsxDEV(FiCopy, {\n                  className: \"w-3 h-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 15\n        }, this)\n      }, msg.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-start\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start space-x-3 max-w-[80%]\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-8 h-8 rounded-full bg-secondary-200 dark:bg-secondary-700 flex items-center justify-center flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(FiMessageCircle, {\n              className: \"w-4 h-4 text-secondary-600 dark:text-secondary-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-lg px-4 py-3 shadow-sm\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-secondary-400 rounded-full animate-bounce\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-secondary-400 rounded-full animate-bounce\",\n                style: {\n                  animationDelay: '0.1s'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-secondary-400 rounded-full animate-bounce\",\n                style: {\n                  animationDelay: '0.2s'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-t border-secondary-200 dark:border-secondary-700 bg-white dark:bg-secondary-800\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-end space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            ref: inputRef,\n            value: message,\n            onChange: e => setMessage(e.target.value),\n            onKeyPress: handleKeyPress,\n            placeholder: \"Ask me anything about this document...\",\n            className: \"w-full px-4 py-3 border border-secondary-300 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-700 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none\",\n            rows: 1,\n            style: {\n              minHeight: '44px',\n              maxHeight: '120px',\n              height: 'auto'\n            },\n            onInput: e => {\n              e.target.style.height = 'auto';\n              e.target.style.height = Math.min(e.target.scrollHeight, 120) + 'px';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSendMessage,\n          disabled: !message.trim() || isChatLoading,\n          className: \"btn-primary p-3 disabled:opacity-50 disabled:cursor-not-allowed\",\n          title: \"Send message (Enter)\",\n          children: isChatLoading ? /*#__PURE__*/_jsxDEV(FiRefreshCw, {\n            className: \"w-5 h-5 animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(FiSend, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mt-2 text-xs text-secondary-500 dark:text-secondary-400\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Press Enter to send, Shift+Enter for new line\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [message.length, \"/1000\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatInterface, \"KQPOBNmbsTc0NeY2w8h247d1HDI=\", false, function () {\n  return [useApp];\n});\n_c = ChatInterface;\nexport default ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useApp","apiService","FiSend","FiTrash2","FiUser","FiMessageCircle","FiCopy","FiRefreshCw","jsxDEV","_jsxDEV","ChatInterface","isPanel","_s","state","actions","currentDocument","chatMessages","isChatLoading","message","setMessage","isTyping","setIsTyping","messagesEndRef","inputRef","_messagesEndRef$curre","current","scrollIntoView","behavior","loadChatHistory","setChatMessages","error","console","handleSendMessage","trim","userMessage","id","Date","now","type","content","timestamp","toISOString","addChatMessage","setChatLoading","response","chatWithAllDocuments","aiResponse","generateMockResponse","errorMessage","isError","showError","responses","lowerMessage","toLowerCase","includes","summary","rent","default","handleKeyPress","event","key","shiftKey","preventDefault","copyMessage","navigator","clipboard","writeText","showSuccess","clearChat","showInfo","formatTimestamp","date","toLocaleTimeString","hour","minute","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","length","map","suggestion","index","msg","style","animationDelay","ref","value","onChange","e","target","onKeyPress","placeholder","rows","minHeight","maxHeight","height","onInput","Math","min","scrollHeight","disabled","_c","$RefreshReg$"],"sources":["D:/trae/ocrapillm/frontend/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useApp } from '../context/AppContext';\r\nimport { apiService } from '../services/api';\r\nimport { FiSend, FiTrash2, FiUser, FiMessageCircle, FiCopy, FiRefreshCw } from 'react-icons/fi';\r\n\r\nconst ChatInterface = ({ isPanel = false }) => {\r\n  const { state, actions } = useApp();\r\n  const { currentDocument, chatMessages, isChatLoading } = state;\r\n  const [message, setMessage] = useState('');\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n\r\n  // Auto-scroll to bottom when new messages arrive\r\n  useEffect(() => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [chatMessages]);\r\n\r\n  // Load general chat history on component mount\r\n  useEffect(() => {\r\n    loadChatHistory();\r\n  }, []);\r\n\r\n  const loadChatHistory = async () => {\r\n    try {\r\n      // For now, start with empty chat for global document queries\r\n      actions.setChatMessages([]);\r\n    } catch (error) {\r\n      console.error('Failed to load chat history:', error);\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!message.trim() || isChatLoading) return;\r\n    \r\n    const userMessage = {\r\n      id: Date.now(),\r\n      type: 'user',\r\n      content: message.trim(),\r\n      timestamp: new Date().toISOString()\r\n    };\r\n    \r\n    // Add user message\r\n    actions.addChatMessage(userMessage);\r\n    setMessage('');\r\n    actions.setChatLoading(true);\r\n    setIsTyping(true);\r\n    \r\n    try {\r\n      // Call the global chat API that searches across all documents\r\n      const response = await apiService.chatWithAllDocuments(\r\n        userMessage.content,\r\n        chatMessages\r\n      );\r\n      \r\n      const aiResponse = {\r\n        id: Date.now() + 1,\r\n        type: 'ai',\r\n        content: response.response || generateMockResponse(userMessage.content),\r\n        timestamp: new Date().toISOString()\r\n      };\r\n      \r\n      actions.addChatMessage(aiResponse);\r\n      \r\n    } catch (error) {\r\n      console.error('Chat error:', error);\r\n      const errorMessage = {\r\n        id: Date.now() + 1,\r\n        type: 'ai',\r\n        content: 'Sorry, I encountered an error while processing your question. Please try again.',\r\n        timestamp: new Date().toISOString(),\r\n        isError: true\r\n      };\r\n      actions.addChatMessage(errorMessage);\r\n      actions.showError('Failed to get AI response');\r\n    } finally {\r\n      actions.setChatLoading(false);\r\n      setIsTyping(false);\r\n    }\r\n  };\r\n\r\n  const generateMockResponse = (userMessage) => {\r\n    const responses = {\r\n      'summary': 'I can provide summaries of all your uploaded documents. Your document library contains various types of files including lease agreements, contracts, and other important documents. Each has been processed and is available for analysis.',\r\n      'documents': 'You have several documents in your library that I can help you analyze. I can search across all of them to find specific information, compare content, or provide summaries of individual documents.',\r\n      'search': 'I can search across all your uploaded documents to find specific information. Just tell me what you\\'re looking for and I\\'ll scan through all your files to find relevant content.',\r\n      'compare': 'I can compare information across multiple documents in your library. This is useful for finding differences in terms, dates, amounts, or other details between similar documents.',\r\n      'default': 'I can help you with questions about all your uploaded documents. I can search across your entire document library, provide summaries, compare information between documents, or help you find specific details. What would you like to know?'\r\n    };\r\n    \r\n    const lowerMessage = userMessage.toLowerCase();\r\n    \r\n    if (lowerMessage.includes('summary') || lowerMessage.includes('summarize')) {\r\n      return responses.summary;\r\n    } else if (lowerMessage.includes('key') || lowerMessage.includes('main') || lowerMessage.includes('important')) {\r\n      return responses['key points'];\r\n    } else if (lowerMessage.includes('rent') || lowerMessage.includes('payment') || lowerMessage.includes('money')) {\r\n      return responses.rent;\r\n    } else {\r\n      return responses.default;\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (event) => {\r\n    if (event.key === 'Enter' && !event.shiftKey) {\r\n      event.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const copyMessage = async (content) => {\r\n    try {\r\n      await navigator.clipboard.writeText(content);\r\n      actions.showSuccess('Message copied to clipboard');\r\n    } catch (error) {\r\n      actions.showError('Failed to copy message');\r\n    }\r\n  };\r\n\r\n  const clearChat = () => {\r\n    actions.clearChat();\r\n    actions.showInfo('Chat history cleared');\r\n  };\r\n\r\n  const formatTimestamp = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  // Chat is now always available - can chat with all documents or specific document\r\n\r\n  return (\r\n    <div className={`h-full flex flex-col ${isPanel ? 'border-l border-secondary-200 dark:border-secondary-700' : ''}`}>\r\n      {/* Header */}\r\n      <div className=\"p-4 border-b border-secondary-200 dark:border-secondary-700 bg-white dark:bg-secondary-800\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <h2 className=\"text-lg font-semibold text-secondary-900 dark:text-white flex items-center\">\r\n              <FiMessageCircle className=\"w-5 h-5 mr-2 text-primary-600\" />\r\n              AI Assistant\r\n            </h2>\r\n            <p className=\"text-sm text-secondary-600 dark:text-secondary-400\">\r\n              Ask questions about all your documents\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-2\">\r\n            <button\r\n              onClick={clearChat}\r\n              className=\"p-2 rounded-lg hover:bg-secondary-100 dark:hover:bg-secondary-700 transition-colors\"\r\n              title=\"Clear chat history\"\r\n            >\r\n              <FiTrash2 className=\"w-4 h-4 text-secondary-600 dark:text-secondary-400\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Messages */}\r\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-secondary-50 dark:bg-secondary-900\">\r\n        {chatMessages.length === 0 ? (\r\n          <div className=\"text-center py-8\">\r\n            <div className=\"w-12 h-12 bg-primary-100 dark:bg-primary-900/20 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n              <FiMessageCircle className=\"w-6 h-6 text-primary-600 dark:text-primary-400\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-medium text-secondary-900 dark:text-white mb-2\">\r\n              Start a conversation\r\n            </h3>\r\n            <p className=\"text-secondary-600 dark:text-secondary-400 text-sm mb-4\">\r\n              Ask me anything about your documents. I can help with:\r\n            </p>\r\n            \r\n            <div className=\"grid gap-2 max-w-sm mx-auto\">\r\n              {[\r\n                'Show me all my documents',\r\n                'Search across all files',\r\n                'Compare documents',\r\n                'Summarize my library'\r\n              ].map((suggestion, index) => (\r\n                <button\r\n                  key={index}\r\n                  onClick={() => setMessage(suggestion)}\r\n                  className=\"text-left p-3 bg-white dark:bg-secondary-800 rounded-lg border border-secondary-200 dark:border-secondary-700 hover:border-primary-300 dark:hover:border-primary-600 transition-colors text-sm\"\r\n                >\r\n                  {suggestion}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          chatMessages.map((msg) => (\r\n            <div\r\n              key={msg.id}\r\n              className={`flex ${msg.type === 'user' ? 'justify-end' : 'justify-start'}`}\r\n            >\r\n              <div className={`flex items-start space-x-3 max-w-[80%] ${msg.type === 'user' ? 'flex-row-reverse space-x-reverse' : ''}`}>\r\n                {/* Avatar */}\r\n                <div className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${\r\n                  msg.type === 'user'\r\n                    ? 'bg-primary-600'\r\n                    : msg.isError\r\n                    ? 'bg-red-100 dark:bg-red-900/20'\r\n                    : 'bg-secondary-200 dark:bg-secondary-700'\r\n                }`}>\r\n                  {msg.type === 'user' ? (\r\n                    <FiUser className=\"w-4 h-4 text-white\" />\r\n                  ) : (\r\n                    <FiMessageCircle className={`w-4 h-4 ${\r\n                      msg.isError\r\n                        ? 'text-red-600 dark:text-red-400'\r\n                        : 'text-secondary-600 dark:text-secondary-400'\r\n                    }`} />\r\n                  )}\r\n                </div>\r\n                \r\n                {/* Message */}\r\n                <div className={`group relative ${\r\n                  msg.type === 'user'\r\n                    ? 'bg-primary-600 text-white'\r\n                    : msg.isError\r\n                    ? 'bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800'\r\n                    : 'bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700'\r\n                } rounded-lg px-4 py-3 shadow-sm`}>\r\n                  <div className={`text-sm leading-relaxed ${\r\n                    msg.type === 'user'\r\n                      ? 'text-white'\r\n                      : msg.isError\r\n                      ? 'text-red-900 dark:text-red-100'\r\n                      : 'text-secondary-900 dark:text-white'\r\n                  }`}>\r\n                    {msg.content}\r\n                  </div>\r\n                  \r\n                  <div className={`flex items-center justify-between mt-2 text-xs ${\r\n                    msg.type === 'user'\r\n                      ? 'text-primary-100'\r\n                      : 'text-secondary-500 dark:text-secondary-400'\r\n                  }`}>\r\n                    <span>{formatTimestamp(msg.timestamp)}</span>\r\n                    \r\n                    <button\r\n                      onClick={() => copyMessage(msg.content)}\r\n                      className={`opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded hover:bg-black/10 ${\r\n                        msg.type === 'user' ? 'text-white' : 'text-secondary-600 dark:text-secondary-400'\r\n                      }`}\r\n                      title=\"Copy message\"\r\n                    >\r\n                      <FiCopy className=\"w-3 h-3\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n        \r\n        {/* Typing Indicator */}\r\n        {isTyping && (\r\n          <div className=\"flex justify-start\">\r\n            <div className=\"flex items-start space-x-3 max-w-[80%]\">\r\n              <div className=\"w-8 h-8 rounded-full bg-secondary-200 dark:bg-secondary-700 flex items-center justify-center flex-shrink-0\">\r\n                <FiMessageCircle className=\"w-4 h-4 text-secondary-600 dark:text-secondary-400\" />\r\n              </div>\r\n              \r\n              <div className=\"bg-white dark:bg-secondary-800 border border-secondary-200 dark:border-secondary-700 rounded-lg px-4 py-3 shadow-sm\">\r\n                <div className=\"flex space-x-1\">\r\n                  <div className=\"w-2 h-2 bg-secondary-400 rounded-full animate-bounce\"></div>\r\n                  <div className=\"w-2 h-2 bg-secondary-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\r\n                  <div className=\"w-2 h-2 bg-secondary-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n      \r\n      {/* Input */}\r\n      <div className=\"p-4 border-t border-secondary-200 dark:border-secondary-700 bg-white dark:bg-secondary-800\">\r\n        <div className=\"flex items-end space-x-3\">\r\n          <div className=\"flex-1\">\r\n            <textarea\r\n              ref={inputRef}\r\n              value={message}\r\n              onChange={(e) => setMessage(e.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n              placeholder=\"Ask me anything about this document...\"\r\n              className=\"w-full px-4 py-3 border border-secondary-300 dark:border-secondary-600 rounded-lg bg-white dark:bg-secondary-700 text-secondary-900 dark:text-white placeholder-secondary-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none\"\r\n              rows={1}\r\n              style={{\r\n                minHeight: '44px',\r\n                maxHeight: '120px',\r\n                height: 'auto'\r\n              }}\r\n              onInput={(e) => {\r\n                e.target.style.height = 'auto';\r\n                e.target.style.height = Math.min(e.target.scrollHeight, 120) + 'px';\r\n              }}\r\n            />\r\n          </div>\r\n          \r\n          <button\r\n            onClick={handleSendMessage}\r\n            disabled={!message.trim() || isChatLoading}\r\n            className=\"btn-primary p-3 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            title=\"Send message (Enter)\"\r\n          >\r\n            {isChatLoading ? (\r\n              <FiRefreshCw className=\"w-5 h-5 animate-spin\" />\r\n            ) : (\r\n              <FiSend className=\"w-5 h-5\" />\r\n            )}\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center justify-between mt-2 text-xs text-secondary-500 dark:text-secondary-400\">\r\n          <span>Press Enter to send, Shift+Enter for new line</span>\r\n          <span>{message.length}/1000</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatInterface;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}